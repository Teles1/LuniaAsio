#include "../Core/Common.h"
#include "../Core/Serializer/Serializer.h"
#include "../Network/NetStream.h"

int main() {
	std::vector<uint8> stream = { 0x33, 0x00, 0xE0, 0x55, 0x41, 0xAA, 0x17, 0x00, 0xB2, 0x8B, 0x3C, 0x39, 0x01, 0x00, 0x00, 0x00, 0x21, 0x00, 0x64, 0x34, 0x31, 0x64, 0x38, 0x63, 0x64, 0x39, 0x38, 0x66, 0x30, 0x30, 0x62, 0x32, 0x30, 0x34, 0x65, 0x39, 0x38, 0x30, 0x30, 0x39, 0x39, 0x38, 0x65, 0x63, 0x66, 0x38, 0x34, 0x32, 0x37, 0x65, 0x00 };
	std::cout << std::hex << stream[4] << std::endl;
	uint16 aux = stream[2] + (stream[3] << 8);
	uint16 hash = StringUtil::Hash(L"NetStream");
	if (stream.size() > 4 && aux == hash) {
		std::cout << "Is Net Stream" << std::endl;
		Serializer::StreamReader reader = Serializer::StreamReader(&stream[4],stream.size()-4);
		uint16 aux = 0;
		reader.Read(aux);
		if ((uint16)StringUtil::Hash(L"Head") == aux) { // pretty please. don't forget to convert to uint16 when hashing =p
			std::cout << "Yaha" << std::endl;
		}
	}
}

